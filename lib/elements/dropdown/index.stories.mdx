import { Meta, Story, Canvas, ArgsTable } from "@storybook/addon-docs/blocks";
import StaticSource from '../../../.storybook/components/static-source.jsx';
import { Dropdown } from "./index.jsx";

<Meta
    title="Elements/Dropdown"
    component={Dropdown}
    argTypes={{
        children: {
            name: "Options",
            description: "Options for the dropdown",
            controls: {
                type: "array",
            },
        },
        label: {
            name: "Label",
            description: "Label for the dropdown",
        },
        name: {
            name: "Name",
            description: "Name/Id for the dropdown",
        },
    }}
    parameters={{
        jest: ['dropdown.test.js']
    }}
/>

export const DropdownStory = ({ children, ...args }) => (
    <Dropdown {...args}>
        {children.map((option) => (
            <option>{option}</option>
        ))}
    </Dropdown>
);

# Dropdown

Use select to let users select from a long list. As some users can struggle this functionality, only use as a last resort.

<Story
    name="Dropdown"
    args={{
        children: ["Recently published", "Recently updated"],
        label: "Sort by",
        name: "sorting",
    }}
    decorators={[
        (Story) => (
            <div className="form">
                <div className="group">
                    <fieldset>
                        <Story />
                    </fieldset>
                </div>
            </div>
        ),
    ]}
    parameters={{
        docs: {
            disable: true,
        },
    }}
>
    {DropdownStory.bind({})}
</Story>

<Canvas>
    <div className="form">
        <div className="group">
            <Dropdown label="Sort by" name="sorting">
                <option>Recently published</option>
                <option>Recently updated</option>
            </Dropdown>
        </div>
    </div>
</Canvas>

You can replace the `<Dropdown />` react element in the above code snippet with the following if using static HTML, swapping out `Sort by` and `sorting` where necessary along with the `<option>`s you want

<StaticSource
    code={
        <Dropdown label="Sort by" name="sorting">
            <option>Recently published</option>
            <option>Recently updated</option>
        </Dropdown>
    }
/>

<ArgsTable of={Dropdown} />

## How to use select

Try using the <a href="/essex-county-council-digital-manual/Design-system/Elements-and-Components/radio">radio</a> or <a href="/essex-county-council-digital-manual/Design-system/Elements-and-Components/checkbox">checkbox</a> elements instead.

It's often used when there is a long list that can't presented in another way, such as a list of countries or languages.

## Content to be published

-   Error handling with select
-   Conditionally revealing content
-   Select hints
-   Accessibility information

<!-- *Note: Be sure to update all label and input attributes with the correct details i.e.*

    <label for=""></label>
    <select id="">
    <select naming=""> -->
