import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs/blocks';
import { Link } from './index.jsx';

<Meta
    title="Elements/Link"
    component={Link}
    argTypes={{
        children: {
            name: 'Content',
            description: 'Content for the user to click',
            control: {
                type: 'string'
            }
        },
        download: {
            name: 'Download',
            description: 'Will this start a download / view a file?'
        },
        external: {
            name: 'External',
            description: 'Is the user leaving this website?'
        },
        href: {
            name: 'Link',
            description: 'Where should clicking this take the user?'
        },
        target: {
            name: 'Target',
            description: 'Handles if a new tab should be launched',
            control: {
                type: 'select',
                options: ['', '_blank']
            }
        },
        title: {
            name: 'Title',
            description: 'Describe the content to the user'
        }
    }}
    parameters={{
        jest: ['link.test.js']
    }}
/>

# Link

<ArgsTable of={Link} />

## Internal links

<Canvas>
    <Story name="Internal link" args={{
        children: 'Internal link',
        download: false,
        external: false,
        href: '/',
        target: '',
        title: 'An internal link'
    }}>
        {(args) => <Link {...args } />}
    </Story>
</Canvas>

## External links

Use external links to link to other websites or downloadable documents.

There are 3 types of external links:

- [Open webpage in a new tab](#new-tab)
- [Open webpage in current tab](#current-tab)
- [Open or download a document](#documents)

### New tab

Use this method to open a webpage from an external website in a new tab.

<Canvas>
    <Story name="External link/New tab" args={{
        children: 'A new tab',
        download: false,
        external: true,
        href: '/',
        target: '_blank',
        title: 'An External link'
    }}>
        {(args) => <Link {...args } />}
    </Story>
</Canvas>

### Current tab

Use this method to open a webpage from an external website in the current tab.

<Canvas>
    <Story name="External link/Same tab" args={{
        children: 'Same tab',
        download: false,
        external: true,
        href: '/',
        target: '',
        title: 'An External link'
    }}>
        {(args) => <Link {...args } />}
    </Story>
</Canvas>

### Documents

Use this method to open or download a document frok this website.

<Canvas>
    <Story name="External link/Download" args={{
        children: 'Download',
        download: true,
        external: true,
        href: '/',
        target: '',
        title: 'An External link'
    }}>
        {(args) => <Link {...args } />}
    </Story>
</Canvas>

### Using External link

The important thing is ensuring users with screen reader and/or with cognitive disabilities are aware a new browser tab has opened or their browser tab has been replaced with an external site.

We also need to consider how this is communicated to all users through the use of icon and supportive text.

#### Further thoughts

There can be some confusion and inconsistency around the use of external link iconography. In some cases websites show this when the browserr opens a new tab, others when it is replacing the current tab with an external website.

Currently we are using it for both cases, external tab and tab replacement, to show indication of the browser tab state changing.
