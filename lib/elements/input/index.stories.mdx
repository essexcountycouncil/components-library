import { Meta, Story, Canvas, ArgsTable } from "@storybook/addon-docs/blocks";
import StaticSource from '../../../.storybook/components/static-source.jsx';
import Button from "../button/index.jsx";
import Input from "./index.jsx";

<Meta
    title="Elements/Input"
    component={Input}
    argTypes={{
        children: {
            description: "Used to render hints to the user",
            control: {
                type: null,
            },
        },
        className: {
            name: "Classes",
            description: "Add classes to the group",
        },
        label: {
            name: "Label name",
            description: "Name of the label ie. What is this input for?",
        },
        name: {
            name: "Name",
            description: "Name of the input",
        },
        type: {
            name: "Type",
            description: "Type of input to show",
            control: {
                type: "select",
                options: ["number", "text"],
            },
        },
    }}
    parameters={{
        jest: ['input.test.js']
    }}
/>

export const Template = (args) => <Input {...args} />;

# Input

<Story
    name="Input"
    args={{
        label: "Full name",
        name: "name",
    }}
    decorators={[
        (Story) => (
            <form className="form">
                <Story />
            </form>
        ),
    ]}
    parameters={{
        docs: {
            disable: true,
        },
    }}
>
    {Template.bind({})}
</Story>

<Canvas>
    <form className="form">
        <Input label="Full name" name="name">
            <span className="form-hint">
                As shown on your birth certificate or passport
            </span>
        </Input>
    </form>
</Canvas>

<StaticSource
    code={
        <Input label="Full name" name="name">
            <span className="form-hint">
                As shown on your birth certificate or passport
            </span>
        </Input>
    }
/>

<Canvas>
    <form className="form">
        <div className="group">
            <fieldset>
                <legend>
                    <span className="form-hint">
                        What is your date of birth?
                    </span>
                    <span className="form-hint">For example, 31 3 1980</span>
                </legend>
                <Input className="day" label="Day" name="day" type="number" />
                <Input
                    className="month"
                    label="Month"
                    name="month"
                    type="number"
                />
                <Input
                    className="year"
                    label="Year"
                    name="year"
                    type="number"
                />
            </fieldset>
        </div>
    </form>
</Canvas>

<StaticSource
    code={<Input className="day" label="Day" name="day" type="number" />}
/>

<ArgsTable of={Input} />

## Using inputs

A text input allows users to add a single line of text, such as their name, email address or telephone number.

A fieldset input lets users add a date, such as their date of birth or a memorable date.

Inputs should be used as part of the <a href="form">form component</a>

Don't use inputs when users need to enter a longer string of text - in this case you should use the <a href="textarea">textarea element</a>

## Form

As an example here is how you could use these within a form

<Canvas>
    <form className="form">
        <Input label="Full name" name="name">
            <span className="form-hint">
                As shown on your birth certificate or passport
            </span>
        </Input>
        <div className="group">
            <fieldset>
                <legend>
                    <span className="form-hint">
                        What is your date of birth?
                    </span>
                    <span className="form-hint">For example, 31 3 1980</span>
                </legend>
                <Input className="day" label="Day" name="day" type="number" />
                <Input
                    className="month"
                    label="Month"
                    name="month"
                    type="number"
                />
                <Input
                    className="year"
                    label="Year"
                    name="year"
                    type="number"
                />
            </fieldset>
        </div>
        <Button type="submit">Continue</Button>
    </form>
</Canvas>

<StaticSource
    code={
        <form className="form">
            <Input label="Full name" name="name">
                <span className="form-hint">
                    As shown on your birth certificate or passport
                </span>
            </Input>
            <div className="group">
                <fieldset>
                    <legend>
                        <span className="form-hint">
                            What is your date of birth?
                        </span>
                        <span className="form-hint">For example, 31 3 1980</span>
                    </legend>
                    <Input className="day" label="Day" name="day" type="number" />
                    <Input className="month" label="Month"  name="month" type="number" />
                    <Input className="year" label="Year" name="year" type="number" />
                </fieldset>
            </div>
            <Button type="submit">Continue</Button>
        </form>
    }
/>
