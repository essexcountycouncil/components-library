import { Meta, Story, Canvas } from "@storybook/addon-docs/blocks";
import StaticSource from '../../../.storybook/components/static-source.jsx';
import { Signup } from "./index.jsx";

<Meta
    title="Components/Signup"
    component={Signup}
    parameters={{
        jest: ['signup.test.js']
    }}
    argTypes={{
        href: {
            name: "Link for basic sign up",
            description: "Sets the link for the basic signup",
        },
        input: {
            name: "Should show inputs",
            description: "Controls whether the sign up has an input",
            controls: {
                type: "boolean",
            },
        },
        isBig: {
            name: "Should be big size",
            description: "Controls whether the sign up should be big or not",
            controls: {
                type: "boolean",
            },
        },
    }}
/>

# Signup

Use the signup to allow users to register for notifications. The method used applies to email notifcations, but could be applied to other methoda of communications.

We have 2 types of signup that we use at Essex County Council Website (Essex.gov.uk) with each having a variation for showing bigger.

-   the [basic sign up](#basic-sign-up)
-   the [input sign up](#input-sign-up)

## Basic sign up

### When to use sign up

For when you are happy to send the user to another page/website for handling to data capture and subscription.

<Canvas>
    <Story
        name="Basic sign up"
        args={{
            href: 'https://www.essex.gov.uk',
            input: false,
            isBig: false,
        }}
    >
        {(args) => <Signup {...args} />}
    </Story>
</Canvas>

<StaticSource code={<Signup href="https://www.essex.gov.uk" />} />

#### Is big (Homepage) variation

<Canvas>
    <Signup href="https://www.essex.gov.uk" isBig />
</Canvas>

<StaticSource code={<Signup href="https://www.essex.gov.uk" isBig />} />

## Input sign up

### When to use input sign up

For when you want to capture the email and setup the newsletter subscription yourself.

<Canvas>
    <Story
        name="Input sign up"
        args={{
            input: true,
            isBig: false,
        }}
    >
        {(args) => <Signup {...args} />}
    </Story>
</Canvas>

<StaticSource code={<Signup input />} />

#### Is big (Homepage) variation

<Canvas>
    <Signup input isBig />
</Canvas>

<StaticSource code={<Signup input isBig />} />

## How to use sign ups

When using sign up it should include a heading that should clearly and concisely tell the user what they are signing up to.

### Accessibility

To ensure sign ups are accessible it is important that the input and label are connected so assisstive technologies can recognise they are connected.

```html
<label for="email"
    >Enter your email address
    <input type="text" id="email" name="email" autocomplete="off" />
</label>
```

## Content to be published

-   Error handling with inputs
